```plantuml
@startuml
actor User
participant Kiosk
participant PaymentGateway
participant "Backend Payment Service" as BackendPaymentService
participant "Backend Wallet Service" as BackendWalletService
database "User Database" as UserDB

title User Balance Top-up (UC-K6)

' Background: User is logged in and selects "Top-up Balance"
User -> Kiosk: Select "Top-up Balance"
activate Kiosk
Kiosk --> User: Display available payment methods

alt Successful top-up via various methods
    ' Scenario Outline: Successful top-up via different methods
    User -> Kiosk: Choose "<payment_method>" (e.g., Credit Card)
    
    ' And completes the payment transaction
    Kiosk -> PaymentGateway: Initiate Payment Transaction (User ID, Amount, Payment Details)
    activate PaymentGateway
    PaymentGateway --> Kiosk: Payment Approved (Transaction ID)
    deactivate PaymentGateway
    
    ' Then the payment information should be sent to the Backend Payment Service
    Kiosk -> BackendPaymentService: Confirm Payment (User ID, Transaction ID, Amount)
    activate BackendPaymentService
    
    ' And the Backend should update the user's wallet balance
    BackendPaymentService -> BackendWalletService: Request Balance Update (User ID, Amount)
    activate BackendWalletService
    BackendWalletService -> UserDB: Update user balance for User ID
    activate UserDB
    UserDB --> BackendWalletService: Balance Updated
    deactivate UserDB
    BackendWalletService --> BackendPaymentService: Balance Update Confirmation (New Balance)
    deactivate BackendWalletService
    
    BackendPaymentService --> Kiosk: Payment & Balance Update Confirmed (New Balance)
    deactivate BackendPaymentService
    
    ' And the Kiosk should display a "Transaction Successful" message
    Kiosk --> User: Display "Transaction Successful" message
    ' And the new balance should be visible on the screen
    Kiosk --> User: Display New Balance: [New Balance Value]

else Payment transaction fails
    ' Scenario: Payment transaction fails
    User -> Kiosk: Attempts to pay (Chooses "<payment_method>")
    Kiosk -> PaymentGateway: Initiate Payment Transaction (User ID, Amount, Payment Details)
    activate PaymentGateway
    
    ' But the Payment Gateway returns a "Transaction Failed" error
    PaymentGateway --X Kiosk: "Transaction Failed" error (Reason)
    deactivate PaymentGateway
    
    ' Then the system should display a "Payment could not be processed" error message
    Kiosk --> User: Display "Payment could not be processed" error
    ' And the user's balance should remain unchanged (implied, no interaction with BackendWalletService)
    Kiosk --> User: User's balance remains unchanged.
end

deactivate Kiosk

@enduml
```