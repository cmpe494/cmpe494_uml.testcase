```plantuml
@startuml
autonumber

actor "System Administrator" as Admin
participant "System Settings UI" as UI

box "Backend Services" #LightBlue
    participant "System Control Service" as SCS
    participant "Configuration Manager" as CM
    participant "Service Orchestrator" as SO
    database "System State DB" as DB
    participant "System Notification Service" as SNS
end box

' Background: Admin is logged into the System Settings interface
Admin -> UI: Logs in and accesses System Settings

group Scenario: Successfully switch system mode (e.g., Server -> Kiosk)
    Admin -> UI: Selects "<target_mode>" (e.g., Kiosk)
    Admin -> UI: Confirms the change
    activate UI
    UI -> SCS: RequestModeChange(current_mode="<current_mode>", target_mode="<target_mode>")
    activate SCS
    SCS -> SCS: Validate request and permissions for mode switch
    
    SCS -> CM: PrepareAndApplyConfiguration(target_mode="<target_mode>")
    activate CM
    CM -> DB: Retrieve current configuration ("<current_mode>")
    CM -> CM: Generate and validate new configuration for "<target_mode>"
    CM -> DB: Store new configuration as active
    CM --> SCS: Configuration applied successfully
    deactivate CM
    
    SCS -> SO: ReconfigureAndRestartServices(target_mode="<target_mode>")
    activate SO
    note over SO: (Implicit) Adapts hardware settings via Hardware Abstraction Layer (HAL)
    SO -> SO: Stop services configured for "<current_mode>"
    SO -> SO: Apply "<target_mode>" specific service configurations
    SO -> SO: Start services required for "<target_mode>"
    SO --> SCS: Services reconfigured and restarted
    deactivate SO
    
    SCS -> DB: Update system's active operational mode to "<target_mode>"
    SCS -> SNS: SendNotification("Mode switch successful")
    activate SNS
    SNS --> SCS: Notification delivery confirmation
    deactivate SNS
    
    SCS --> UI: ModeSwitchComplete(status="Success")
    deactivate SCS
    UI -> Admin: Display "Mode switch successful" notification
    deactivate UI
end group

group Scenario: Rollback to previous mode on configuration failure (e.g., Server -> Kiosk failure)
    Admin -> UI: Selects "Kiosk" as target mode (from "Server")
    Admin -> UI: Confirms the change
    activate UI
    UI -> SCS: RequestModeChange(current_mode="Server", target_mode="Kiosk")
    activate SCS
    SCS -> SCS: Validate request and permissions
    
    SCS -> CM: PrepareAndApplyConfiguration(target_mode="Kiosk")
    activate CM
    CM -> DB: Retrieve current configuration ("Server")
    CM -> CM: Generate and validate new configuration for "Kiosk"
    CM -> CM: Attempt to apply configuration...
    CM x-- SCS: ConfigurationError("Resource conflict or invalid settings")
    deactivate CM
    
    SCS -> SCS: Abort operation and initiate rollback process
    SCS -> CM: RollbackConfiguration(revert_to_mode="Server")
    activate CM
    CM -> DB: Restore previous active configuration ("Server")
    CM --> SCS: Rollback complete
    deactivate CM
    
    SCS -> SO: EnsureServicesInMode("Server")
    activate SO
    note over SO: Reverts any partial service changes or restarts services for "Server" mode
    SO --> SCS: Services ensured in "Server" mode
    deactivate SO
    
    SCS -> DB: Verify system's active operational mode is "Server"
    SCS -> SNS: SendErrorNotification("Switch failed, reverted to previous state")
    activate SNS
    SNS --> SCS: Error notification delivery confirmation
    deactivate SNS
    
    SCS --> UI: ModeSwitchComplete(status="Failure", message="Reverted")
    deactivate SCS
    UI -> Admin: Display "Switch failed, reverted to previous state" error message
    deactivate UI
end group

@enduml
```